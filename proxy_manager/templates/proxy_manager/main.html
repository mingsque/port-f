{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<!-- Title here -->
		<title>PORTFORWORDING</title>
		<!-- Description, Keywords and Author -->
		<meta name="description" content="Your description">
		<meta name="keywords" content="Your,Keywords">
		<meta name="author" content="ResponsiveWebInc">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Styles -->
		<!-- Bootstrap CSS -->
		<link href="{% static 'proxy_manager/css/bootstrap.min.css' %}" rel="stylesheet">
		<!-- jQuery UI -->
        <link href="{% static 'proxy_manager/css/jquery-ui.css' %}" rel="stylesheet">
		<!-- jQuery Gritter -->
        <link href="{% static 'proxy_manager/css/jquery.gritter.css' %}" rel="stylesheet">
		<!-- Font awesome CSS -->
        <link href="{% static 'proxy_manager/css/font-awesome.min.css' %}" rel="stylesheet">
		<!-- Custom CSS -->
        <link href="{% static 'proxy_manager/css/style.css' %}" rel="stylesheet">
		<!-- Widgets stylesheet -->
        <link href="{% static 'proxy_manager/css/widgets.css' %}" rel="stylesheet">
		<!-- Favicon -->
	</head>
     <!-- Javascript files -->
    <!-- jQuery -->
    <script src="{% static 'proxy_manager/js/jquery.js' %}"></script>
    <!-- Bootstrap JS -->
    <script src="{% static 'proxy_manager/js/bootstrap.min.js' %}"></script>
    <!-- jQuery UI -->
    <script src="{% static 'proxy_manager/js/jquery-ui.min.js' %}"></script>
    <!-- jQuery Flot -->
    <script src="{% static 'proxy_manager/js/excanvas.min.js' %}"></script>
    <script src="{% static 'proxy_manager/js/jquery.flot.js' %}"></script>
    <script src="{% static 'proxy_manager/js/jquery.flot.resize.js' %}"></script>
    <script src="{% static 'proxy_manager/js/jquery.flot.pie.js' %}"></script>
    <script src="{% static 'proxy_manager/js/jquery.flot.stack.js' %}"></script>

	<body>
		<div class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner">
			<div class="container">
				<!-- Menu button for smallar screens -->
				<div class="navbar-header">
					<button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a href="index.html" class="navbar-brand">Metro <span class="bold">King</span></a>
				</div>
				<!-- Site name for smallar screens -->
				<!-- Navigation starts -->
				<nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
					<!-- Links -->
					<ul class="nav navbar-nav navbar-right">
						<li class="dropdown">
							<!-- Dropdown menu -->
							<ul class="dropdown-menu">
							<li><a href="#"><i class="fa fa-user"></i> Profile</a></li>
							<li><a href="#"><i class="fa fa-cogs"></i> Settings</a></li>
							<li><a href="login.html"><i class="fa fa-power-off"></i> Logout</a></li>
                            </ul>
						</li>
                    </ul>
                </nav>
			</div>
		</div>

		<!-- Main content starts -->
		<div class="content">
			<!-- Sidebar -->
			<div class="sidebar">
				<div class="sidebar-dropdown"><a href="#">Navigation</a></div>
				<div class="sidebar-inner">
					<!-- Search form -->
					<div class="sidebar-widget">
						<form >
							<input type="text" class="form-control" placeholder="Search">
						</form>
					</div>
					<!--- Sidebar navigation -->
					<!-- If the main navigation has sub navigation, then add the class "has_submenu" to "li" of main navigation. -->
					<ul class="navi">
						<!-- Use the class nred, ngreen, nblue, nlightblue, nviolet or norange to add background color. You need to use this in <li> tag. -->

						<li class="nred current"><a href="index.html"><i class="fa fa-desktop"></i> Dashboard</a></li>

						<li class="ngreen"><a href="charts.html"><i class="fa fa-bar-chart-o"></i> Charts</a></li>
						<li class="norange"><a href="ui.html"><i class="fa fa-sitemap"></i> UI Elements</a></li>

						<li class="nred"><a href="forms.html"><i class="fa fa-list"></i> Forms</a></li>
						<li class="nlightblue"><a href="tables.html"><i class="fa fa-table"></i> Tables</a></li>
					</ul>
					<!--/ Sidebar navigation -->

					<!-- Date -->
					<div class="sidebar-widget">
						<div id="todaydate"></div>
					</div>
				</div>
			</div>
			<!-- Sidebar ends -->

            <div class="mainbar">
				<!-- Page heading -->
				<div class="page-head">
				<!-- Page heading -->
					<h2 class="pull-left">Port Forwarding !
					  <span class="page-meta">Something Goes Here</span>
					</h2>
					<!-- Breadcrumb -->
					<div class="bread-crumb pull-right">
					  <a href="index.html"><i class="fa fa-home"></i> Home</a>
					  <!-- Divider -->
					  <span class="divider">/</span>
					  <a href="#" class="bread-current">Dashboard</a>
					</div>
					<div class="clearfix"></div>
				</div><!--/ Page heading ends -->
				<!-- Matter -->
                <div style="margin-left:20px">
                    <input id="dest_ip" name="dest_ip" type="text">
                    <input id="dest_port" name="dest_port" type="text">
                    <button type="button" id="dest_button">포워드 요청</button>
                </div>
            </div>
        </div>
	</body>

    <script type="text/javascript">
        $(document).ready(
            $('#dest_button').click(function () {

                var dest_ip = $('#dest_ip').val()
                var dest_port = $('#dest_port').val()

                console.log(dest_ip, dest_port)
                $.ajax({
                    type: "POST",
                    url: "{% url 'proxy' %}",
                    data: {'dest_ip': dest_ip, 'dest_port': dest_port, 'csrfmiddlewaretoken': '{{ csrf_token }}'},
                    dataType: "json",
                    success: function (response) {
                        alert(response.message);

                    },
                    error: function (request, status, error) {
                        alert("주소가 올바르지 않습니다.")
                    },
                });
            }))
    </script>
</html>